name: bnuy-nvidia
# description will be included in the image's metadata
description: Based on fedora atomic, powered by carrots.

# the base image to build on top of (FROM) and the version tag to use (ghcr.io/ublue-os/kinoite-nvidia)
base-image: ghcr.io/ublue-os/kinoite-nvidia
image-version: latest # latest is also supported if you want new updates ASAP

# module configuration, executed in order
# you can include multiple instances of the same module
modules:
  - from-file: common/shells.yml
  - from-file: common/scripts.yml
  - from-file: common/files.yml
  #- from-file: common/codec-remove.yml
  - from-file: common/chezmoi.yml
  - from-file: common/fonts.yml
  - from-file: common/debrand.yml
  - from-file: common/remove.yml
  - from-file: common/kde-remove.yml
  - from-file: common/kinoite-packages.yml
  - from-file: common/packages.yml
  - from-file: common/systemd-services.yml
  #- from-file: common/akmods-nvidia.yml

  - type: rpm-ostree
    remove:
       - alsa-firmware
       - apr
       - apr-util
       #- ffmpeg
       #- ffmpeg-libs
       #- ffmpegthumbnailer
       #- flatpak-spawn
       #- fuse
       #- fzf
       - google-noto-sans-balinese-fonts
       - google-noto-sans-cjk-fonts
       - google-noto-sans-javanese-fonts
       - google-noto-sans-sundanese-fonts
       - grub2-tools-extra
       - heif-pixbuf-loader
       - htop
       - intel-media-driver
       - kernel-tools
       - libcamera
       - libcamera-tools
       - libcamera-gstreamer
       - libcamera-ipa
       - libheif-freeworld
       - libheif-tools
       - libratbag-ratbagd
       - libva-intel-driver
       - libva-utils
       - lshw
       - mesa-va-drivers-freeworld.x86_64
       - net-tools
       - nvme-cli
       - nvtop
       - openrgb-udev-rules
       - openssl
       - oversteer-udev
       - pam-u2f
       - pam_yubico
       - pamu2fcfg
       - pipewire-codec-aptx
       - pipewire-plugin-libcamera
       - powerstat
       - smartmontools
       - solaar-udev
       - squashfs-tools
       - symlinks
       - tcpdump
       - tmux
       - traceroute
       - vim
       - wireguard-tools
       - zstd
       - yubikey-manager

  - type: yafti
  - type: signing # this sets up the proper policy & signing files for signed images to work fully
